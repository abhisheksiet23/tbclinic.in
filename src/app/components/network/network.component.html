<section class="network-section">
 
  <div class="delhi-centers-header">
  <h2 class="delhi-centers-title">Our Delhi Centers</h2>
  <p class="delhi-centers-subtitle">Find your nearest clinic</p>
</div>
  <!-- Delhi Map -->
  <div class="delhi-map-container">
    <img src="assets/images/delhi-map.png" alt="Delhi TB Clinic Network Map" class="delhi-map-image">

    <button *ngFor="let loc of hospitalLocations; let i = index" 
      class="map-location-pin"
      [style.top]="mapPinPositions[i].top"
      [style.left]="mapPinPositions[i].left"
      (click)="scrollToBranch(i)">
      <span>{{ loc.branchName }}</span>
    </button>
  </div>

  <!-- Nav Bar -->
  <div class="city-nav-bar">
    <div class="city-nav-container">
      <a *ngFor="let city of networkCities"
         href="#"
         class="city-link"
         [class.active]="city === 'All Locations'">
        {{ city }}
      </a>
    </div>
  </div>

  <div class="network-content-wrapper">
    <div class="content-container">
      
      <!-- Updated Info Panel -->
      <div class="network-info-panel">
        <h2 class="info-title">Our Network of Care</h2>
        <p class="info-description">
          We provide specialized tuberculosis diagnosis, treatment, and ongoing patient care through our connected branch clinics across Delhi.
          Each location is staffed with trained TB specialists, offering the same standard of compassion, scientific treatment protocols and continuous support.
        </p>
      </div>

      <!-- Branch Cards -->
      <div class="locations-carousel">
        <div class="carousel-track">
          <div class="location-card" *ngFor="let loc of hospitalLocations; let i = index" [id]="'branch-' + i">
            
            <h3 class="branch-name-header">{{ loc.branchName }}</h3>

            <div class="map-embed-area">
              <iframe 
                [src]="loc.mapEmbedUrl | safeUrl"
                allowfullscreen
                loading="lazy">
              </iframe>
            </div>

            <div class="branch-details">
              <p class="address-line">
                <i class="fa fa-map-marker-alt"></i> {{ loc.addressLine }}
              </p>

              <a href="https://www.google.com/maps/search/?api=1&query={{ loc.addressLine | urlEncode }}"
                 target="_blank"
                 class="btn-get-directions">
                  View Directions
              </a>
            </div>

          </div>
        </div>
      </div>

    </div>
  </div>

</section>
